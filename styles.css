:root { --ink:#0f172a; --muted:#334155; --brand:#0ea5e9; --ok:#16a34a; --warn:#f59e0b; --crit:#ef4444; }
html, body { background:#0b1220; color:#e5e7eb; }
.card { background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.08); border-radius: 1rem; }
.chip { border:1px solid rgba(255,255,255,.12); border-radius:9999px; padding:.15rem .6rem; font-size:.75rem; }
.soft { box-shadow: 0 10px 30px rgba(0,0,0,.3), inset 0 1px 0 rgba(255,255,255,.06); }
.grid-2 { display:grid; grid-template-columns: 1fr; gap:1rem; }
@media(min-width:768px){ .grid-2{ grid-template-columns: 1fr 1fr; } }
.sys-select { appearance:none; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:.5rem; padding:.4rem .6rem; width:100%; }
.sys-note { background:rgba(255,255,255,.04); border:1px dashed rgba(255,255,255,.15); border-radius:.5rem; padding:.4rem .6rem; width:100%; }
.thumb { aspect-ratio: 4/3; object-fit:cover; border-radius:.75rem; border:1px solid rgba(255,255,255,.12); background:#0a1020; }
.btn { border-radius: .75rem; padding: .7rem 1rem; border:1px solid rgba(255,255,255,.16); }
.btn-primary { background:linear-gradient(180deg, #22d3ee, #0ea5e9); color:#0b1220; font-weight:600; }
.btn-ghost { background:transparent; }
.btn-danger { background:linear-gradient(180deg, #fb7185, #ef4444); color:#fff; }
.kpi { border: 1px solid rgba(255,255,255,.12); border-radius:.75rem; padding:.4rem .6rem; }
.kbd { border:1px solid rgba(255,255,255,.2); border-radius:.4rem; padding:.1rem .35rem; font-size:.75rem; }
.note { color:#cbd5e1; font-size:.85rem; }
.sr-only { position:absolute; width:1px; height:1px; margin:-1px; clip:rect(0,0,0,0); overflow:hidden; }

/* Logos en la tarjeta (pantalla) */
.kpi-card{ position:relative; }
.kpi-card .logo-bar{
  position:absolute;
  top:10px; left:14px; right:14px;
  display:flex; align-items:flex-start; justify-content:space-between;
  pointer-events:none;
}
.rdv-logo{ height:72px; width:auto; filter: drop-shadow(0 1px 1px rgba(0,0,0,.35)); }
@media (min-width:768px){ .rdv-logo{ height:96px; } }

/* Encabezado bilingüe (pantalla) */
.bilingual-title{ text-align:center; line-height:1.2; color:#e5e7eb; }
.kpi-card .bilingual-title{ margin-top:-14px; }
@media (min-width:768px){ .kpi-card .bilingual-title{ margin-top:-22px; } }
@media (min-width:1024px){ .kpi-card .bilingual-title{ margin-top:-26px; } }
.bilingual-title .line1{ font-weight:800; font-size:1.125rem; letter-spacing:.02em; }
.bilingual-title .line2{ font-weight:600; font-size:.95rem; opacity:.9; }
.bilingual-title .line3 .es{ font-weight:800; font-size:1.05rem; }
.bilingual-title .line3 .cn{ font-size:.95rem; margin-top:2px; }
.bilingual-title .cn{ font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans SC', 'Microsoft YaHei', sans-serif; }
.bilingual-title .sep{ height:1px; background:rgba(255,255,255,.35); margin:.35rem auto .45rem; width:96%; }

/* Centrado del único KPI en la tarjeta */
.kpi-center-single{ display:flex; justify-content:center; }
.kpi-center-single .kpi{ text-align:center; min-width: min(100%, 460px); }
/* Ajuste de altura para quedar al nivel de logos */
.kpi-card .kpi-center-single{ margin-top:-14px; }
@media (min-width:768px){ .kpi-card .kpi-center-single{ margin-top:-24px; } }
@media (min-width:1024px){ .kpi-card .kpi-center-single{ margin-top:-28px; } }

/* ======= PRINT (A4) ======= */
@page { size: A4; margin: 12mm; }
@media print {
  body { background:#fff; color:#000; }
  .no-print { display:none !important; }
  #report { display:block !important; }
  .print-only { display:block !important; }

  #toast { display:none !important; }       /* evita el “recuadro” del aviso */
  /* Encabezado de impresión con logos */
  .rep-topbar{
    display:grid;
    grid-template-columns: 35mm 1fr 35mm;
    align-items:center;
    column-gap:8mm;
    margin-bottom:6mm;
  }
  .rep-logo{ height:26mm; width:auto; object-fit:contain; }
  .print-title{ color:#000; }
  .print-title .line1{ font-weight:800; font-size:14pt; letter-spacing:.02em; }
  .print-title .line2{ font-weight:600; font-size:10pt; }
  .print-title .line3 .es{ font-weight:800; font-size:12pt; }
  .print-title .line3 .cn{ font-size:10pt; margin-top:2px; }
  .print-title .sep{ height:1px; background:#000; margin:3pt auto 4pt; width:96%; }

  .print-grid { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
  .print-grid img { width:100%; height: 110mm; object-fit: contain; border:1px solid #999; }
  .rep-card { border:1px solid #000; border-radius: 6px; padding:10px; }
  .rep-table { width:100%; border-collapse: collapse; }
  .rep-table th, .rep-table td { border:1px solid #000; padding:4px 6px; font-size:12px; }

  #report .print-grid { break-before: page; page-break-before: always; }
}
@media screen {
  #report { display:none; }
  .print-only { display:none; }
}


@media print{
  .rep-obs-block{ border:1px solid #000; border-radius:4px; padding:6px 8px; margin-bottom:8px; }
  .rep-obs-title{ font-weight:700; font-size:11pt; margin-bottom:4px; }
  .rep-obs-content{ white-space:pre-wrap; font-size:10pt; min-height:14mm; }
}

@media print {
  -webkit-print-color-adjust: exact !important;
  print-color-adjust: exact !important;
  .kpi-card { display:none !important; }
  #toast { display:none !important; }
  /* Evidencias siempre desde página 2 */
  #report .print-grid { break-before: page; page-break-before: always; }
}
